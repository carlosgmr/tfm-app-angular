<div class="box-header with-border">
  <h1 class="box-title">{{ title }}</h1>
  <div class="box-tools pull-right"></div>
</div>
<div class="box-body">
  <app-messages></app-messages>
  <div class="row">
    <div class="col-md-4">
      <div class="panel box box-primary">
        <div class="box-header with-border">
          <h4 class="box-title">Datos principales</h4>
        </div>
        <div class="box-body">
          <div *ngIf="!load">Cargando datos ...</div>
          <dl class="dl-horizontal" *ngIf="load">
            <dt>ID</dt>
            <dd>{{ item['id'] }}</dd>
            <dt>Email</dt>
            <dd>{{ item['email'] }}</dd>
            <dt>Nombre</dt>
            <dd>{{ item['name'] }}</dd>
            <dt>1º apellido</dt>
            <dd>{{ item['surname_1'] }}</dd>
            <dt>2º apellido</dt>
            <dd>{{ item['surname_2'] }}</dd>
            <dt>Fecha creación</dt>
            <dd>{{ item['created_at'] | date:'dd/MM/yyyy HH:mm:ss' }}</dd>
            <dt>Fecha actualización</dt>
            <dd>{{ item['updated_at'] | date:'dd/MM/yyyy HH:mm:ss' }}</dd>
            <dt>Activo</dt>
            <dd>{{ item['active'] ? 'Sí' : 'No' }}</dd>
          </dl>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <div class="panel box box-primary">
        <div class="box-header with-border">
          <h4 class="box-title">Datos secundarios</h4>
        </div>
        <div class="box-body">
          <div *ngIf="!loadGroups">Cargando datos ...</div>
          <div *ngIf="loadGroups">
            <div *ngIf="groups.length === 0">No existen datos</div>
            <div class="table-responsive" *ngIf="groups.length > 0">
              <table class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th>Grupos a los que pertenece</th>
                    <th>Exámenes/encuestas realizados</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let group of groups">
                    <td>
                      <a [routerLink]="['/instructor/group', group['id']]">{{ group['name'] }}</a>
                    </td>
                    <td>
                      <div *ngFor="let questionary of group['questionarys']">
                        <a [routerLink]="['/instructor/user', id, 'questionary', questionary['id']]">{{ questionary['title'] }}</a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
