<div class="box-header with-border">
  <h1 class="box-title">{{ title }}</h1>
  <div class="box-tools pull-right">
    <a class="btn btn-sm btn-primary" title="Volver al listado" [routerLink]="['/administrator/group']">
      <i class="fa fa-arrow-left"></i> Volver al listado
    </a>&nbsp;
    <a class="btn btn-sm btn-primary" title="Volver a detalles" [routerLink]="['/administrator/group', id]">
      <i class="fa fa-eye"></i> Volver a detalles
    </a>
  </div>
</div>
<form (ngSubmit)="onSubmit()" #formUser="ngForm">
  <div class="box-body">
    <app-messages></app-messages>
    <div *ngIf="!loadAllUsers || !loadCurrentUsers">Cargando datos ...</div>
    <div *ngIf="loadAllUsers && loadCurrentUsers" class="form-group">
      <label>Usuarios</label>
      <div class="checkbox" *ngFor="let allUser of allUsers">
        <label>
          <input type="checkbox" name="user[]" value="{{ allUser['id'] }}" (change)="onChange($event.target)" [checked]="currentUsers.indexOf(allUser['id']) !== -1">&nbsp;
          {{ (allUser['name']+' '+allUser['surname_1']+' '+(allUser['surname_2'] !== null ? allUser['surname_2'] : '')).trim() }}
        </label>
      </div>
    </div>
  </div>
  <div class="box-footer">
    <button type="submit" class="btn btn-primary" [disabled]="!loadAllUsers || !loadCurrentUsers || !formUser.form.valid">Actualizar</button>
  </div>
</form>
